<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bootstrap 实例 - 简单的轮播（Carousel）插件</title>
<body>
<script>
    var a = "发送第三方斯蒂芬撒 的萨芬的萨芬[a2][a12]sfsa dsfsafsaf [a12]";
    a=replaceJtMoji(a);
    console.info(a);

    function replaceJtMoji(text) {
        var pattern = new RegExp("\\[[a-z][0-9]+\\]", "g");
        var jtMojiTemlate1 = "<span><img src='images/jtEmoji/";
        var jtMojiTemlate2 = ".png' width='18' height='18' alt=''/></span>";
        var newText = text;
        for (; ;) {
            var result = pattern.exec(text);
            if (result != null) {
                var a = result[0].substring(1, result[0].length - 1);
                var jtMojiTemlate = jtMojiTemlate1 + a + jtMojiTemlate2;
                newText = newText.replace(result[0], jtMojiTemlate);
                //console.info(newText);
                //console.info(result[0] + ":" + result.index);
            }
            else {
                break;
            }
        }
        return newText;
    }


</script>

</body>
</html>